# 第八章函数探幽





## 8.1函数重载

在C++中允许函数的重名函数。

- 函数重载的关键指标:参数列表[^也被称为函数特征标func signature]。 C++允许定义同名的函数,但是要求它们的**特征标不同**,即**参数数目**或**参数类型**或**参数的排列**顺序不同

 例如:print函数:

```C
void print(const char* str,int width);
void print(int l ,int width );
void print(short l ,int width);
.....
```

  但是考虑如下情况:

- C++**不允许传入不存在的参数列表产生情况产生**因为这样使得print将有多个原型,而调用具有唯一性!!!!

```c
//调用print函数
unsigned int year =3200;
print(year,10);//而实际上print函数没有unsigned int 的原型
```

- C++**不允许存在相同特征标不同函数类型的情况产生**

  (懒得举例子了)

  

  ---

  

## 8.2函数模板

###       8.2.1什么是模板?

   C++模板（templates）是一种强大的语言特性，它允许你编写通用和高效的代码。模板的基本思想是编写一次代码并在多种数据类型上重复使用。通过模板，你可以创建类型安全和高性能的通用程序组件。C++中主要有两种模板：函数模板和类模板。



###      8.2.2 auto类型变量

- 当变量为auto类型时,编译器会根据所赋予的变量实际值来给变量**分配类型**,虽说auto功能非常强大,但是不能随意的滥用,会带来以下各种不利:

请看如下示例:

1. 实际想定义string类变量,但却分配const char*类型 

   ```c++
   auto a="baby" //编译器提示会显示a是'const char*' 即字符串常量
   ```

2. 代码可读性降低,且没有起到优化代码的作用

   ```c++
   auto b=0;//倒不如定义 int b =0
   auto c=1.1;//倒不如定义 float c =1.1
   ..........
   ```



- 因为指针声明有时候很让人头大,为了方便程序员代码编写,auto可以用于指针

  下列是在函数指针是使用的示例:

  ```c++
  void func(int a ,int b ,double c )
  {
     cout << a+b+c;
  }
  int main()
  {
      void(*pf)(int ,int ,double); //括号:优先级的原因
      pf=func;
      pf(1,2,32.2);
      /*也可以这样↓*/
      auto pf1 = func;
      pf1(1,2,32.2);
  }
  ```

  假设需要对func函数参数列表进行修改,那么 第一种定义方式将相对复杂,而第二种使用auto**只需要修改一下传入参数**即可。

### 8.2.3函数模板

####             8.2.2.1函数模板的定义

​       函数模板是通用的函数描述,使用任意类型(泛型)来描述函数。

​       有时候需要对一个**函数进行反复地重载**,这样很麻烦,我们可以使用函数模板进行简化代码

​       格式如下:

```c++
//以swap为例
template <typename T>
void swap(T& a,T& b)
{
    T temp =a ;
    a =b ;
    b = temp;
}
```

####           8.2.2.2 函数模板的注意事项:

   1. 使用函数模板时,如果是自动类型推导,不会发生隐式类型转换,

      

      <img src="C:\Users\32939\Desktop\github_repo\Cpp_primer_notes\第八章函数探幽\屏幕截图 2024-06-30 193333.png" alt="屏幕截图 2024-06-30 193333" style="zoom: 50%;" />

   2. 如果显示指定了函数的数据类型,可以隐式类型转换   

      ```c++
      int main()
      {
          char e='a';
          int  f=10;
          sum<int>(e,f);  //不知道为什么使用Swap(e,f)会出现报错????
      }
      ```

3. 使用函数模板必须明确数据类型,确保数据**参与函数模板能匹配上**
4.  函数模板支持多个通用数据类型的参数
5. 函数模板支持重载
6. 可以为类成员创建函数模板,但函数模板**不能为虚拟函数或析构函数**