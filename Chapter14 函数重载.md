# Chapter14 函数重载



## 14.1 函数默认参数

默认参数是指调用函数的时候，如果不书写实参，那么将使用的一个缺省值。

- 如果函数的声明和定义是分开书写的，在函数**声明中**书写默认参数，函数的**定义**中不能书写默认参数。

- 函数必须从右到左设置默认参数。也就是说，如果要为某个参数设置默认值，则必须为它后面所有的参数设置默认值。

  ```c++
  int func1(int a = 3 ,int b = 10);//编译正常
  int func2 (int a =3 ,int b ); //编译报错
  int func3(int a ,int b = 3) //编译正常
  ```

- 调用函数的时候，如果指定了某个参数的值，那么该参数前面所有的参数都必须指定。



## 14.2 函数的重载

   函数重载（函数多态）是指设计一系列同名函数，让它们完成相同（似）的工作。



- #### 函数的特征

​        C++允许定义名称相同的函数，**条件是它们的特征（形参的个数、数据类型和排列顺序）不同。**

```c++
1 int func(short a ,string b);

2 int func(int a  ,string b);

3 int func(double a,string b);

4 int func(int a  ,string b, int len);

5  int func(string b , int a);

```

  **在实际开发中，视需求重载各种数据类型，不要重载功能不同的函数**



- #### 注意:

  l 使用重载函数时，如果数据类型不匹配，C++尝试使用类型转换与形参进行匹配，如果转换后有多个函数能匹配上，编译将报错。

  

  l 引用可以作为函数重载的条件，但是，调用重载函数的时候，如果实参是变量,编译器将形参**类型的本身**和**类型引用**视为同一特征。

  

  l 如果重载函数有默认参数，调用函数时，可能导致匹配失败。

  

  l **const不能作为函数重载的特征。**

  ```c++
  void func(const string & a ,int b);
  void func(string & a ,int b);
  //会导致代码二义性
  ```

  l **返回值的数据类型不同不能作为函数重载**的特征。

  

  l C++的名称修饰：编译时，对每个函数名进行加密，替换成不同名的函数。

  ```c++
  void MyFunctionFoo(int,float);
  
  void MyFunctionFoo(long,float);
  
  ?MyFunctionFoo@@YAXH(int,float);
  
  \#void MyFunctionFoo^$@(long,float);
  ```

  

##         14.3 内联函数(inline修饰符)

C++的内联函数会将内联函数包括的代码块组合到程序中 , 提升代码运行速率

语法：在函数声明和定义前加上关键字`inline`

- 注意：

  l 内联函数节省时间，但**消耗内存**。

  ​     在传统函数中,调用函数需要以下步骤:

  - 保存原程序函数执行指令位置
  - 将实参拷贝到堆栈
  - 将函数的返回值保存到堆栈

  l 内联函数**不能递归**。





